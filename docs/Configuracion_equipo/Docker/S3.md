# S3 – Servidor de Aplicación PHP-FPM (Nodo 2)

## Objetivo de S3
Configuramos el servidor S3 utilizando una imagen de PHP-FPM sobre Alpine Linux para actuar como el segundo nodo de procesamiento dinámico. Al igual que S2, su función es ejecutar el código de extagram.php, conectarse a la base de datos S7 y renderizar el contenido para el usuario.

La existencia de S3 es la base de nuestra Alta Disponibilidad: si el nodo S2 experimenta una sobrecarga o una caída, S1 redirigirá las peticiones a este contenedor (S3), asegurando que la aplicación Extagram permanezca online en todo momento.

## Configuración y Funcionamiento de S3
- **Despliegue del Contenedor:** Este nodo se despliega de forma redundante, compartiendo las mismas redes que S2 para garantizar la conectividad con el Proxy (S1) y la Base de Datos (S7).
  ```sql
  # Comando de ejecución manual (gestionado normalmente por Compose)
  docker run -d \
    --name s1-s3-phpfpm-1 \
    --network red_entrada \
    --network red_servicios \
    --network red_datos \
    -v /home/ec2-user/sprint2/S3/src:/var/www/extagram:rw \
    php:8.2-fpm-alpine
  ```
- **Estructura del contenedor:**
  ```sql
  S3/
  └── src/
      └── extagram.php  # Código idéntico al del Nodo S2  
  ```
  | Fichero | Función Técnica |
  |--------|------|
  | extagram.php | Procesador Dinámico (Espejo): Ejecuta la consulta a S7 y genera el HTML. Al ser idéntico a S2, garantiza la consistencia de los datos mostrados. |
  | Dockerfile | Entorno PHP: Imagen ligera Alpine con las extensiones de MySQL (mysqli) habilitadas para la persistencia. |

- **Contenido de ficheros:**
